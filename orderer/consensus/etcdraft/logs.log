[34m2020-05-08 23:05:35.974 IST [test] confirmSuspicion -> INFO 001[0m Suspecting our own eviction from the channel for 10m0s
[35m2020-05-08 23:05:35.981 IST [test] confirmSuspicion -> PANI 002[0m Failed creating a block puller: oops
[34m2020-05-08 23:05:35.981 IST [test] confirmSuspicion -> INFO 003[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 004[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 005[0m Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 006[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 007[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 008[0m Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.
[34m2020-05-08 23:05:35.982 IST [test] confirmSuspicion -> INFO 009[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.983 IST [test] confirmSuspicion -> INFO 00a[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.983 IST [test] confirmSuspicion -> INFO 00b[0m Cannot confirm our own eviction from the channel: bad block
[34m2020-05-08 23:05:35.983 IST [test] confirmSuspicion -> INFO 00c[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.983 IST [test] confirmSuspicion -> INFO 00d[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.984 IST [test] confirmSuspicion -> INFO 00e[0m Cannot confirm our own eviction from the channel: bad block
[34m2020-05-08 23:05:35.984 IST [test] confirmSuspicion -> INFO 00f[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.985 IST [test] confirmSuspicion -> INFO 010[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.985 IST [test] confirmSuspicion -> INFO 011[0m Cannot confirm our own eviction from the channel, our certificate was found in config block with sequence 9
[34m2020-05-08 23:05:35.985 IST [test] confirmSuspicion -> INFO 012[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.985 IST [test] confirmSuspicion -> INFO 013[0m Last config block was found to be block [9]
[34m2020-05-08 23:05:35.985 IST [test] confirmSuspicion -> INFO 014[0m Cannot confirm our own eviction from the channel, our certificate was found in config block with sequence 9
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 015[0m Suspecting our own eviction from the channel for 10m0s
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 016[0m Last config block was found to be block [9]
[33m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> WARN 017[0m Detected our own eviction from the channel in block [9]
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 018[0m Waiting for chain to halt
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 019[0m Chain has been halted, pulling remaining blocks up to (and including) eviction block.
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 01a[0m Will now pull blocks 8 to 9
[34m2020-05-08 23:05:35.986 IST [test] confirmSuspicion -> INFO 01b[0m Pulling block [8]
[34m2020-05-08 23:05:35.987 IST [test] confirmSuspicion -> INFO 01c[0m Pulling block [9]
[34m2020-05-08 23:05:35.987 IST [test] confirmSuspicion -> INFO 01d[0m Pulled all blocks up to eviction block.
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-482614331/snapshot"}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/etcdraft-482614331/wal'"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 0 entries to memory storage"}
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-482614331/snapshot"}
{"level":"info","msg":"Found WAL data at path '/tmp/etcdraft-482614331/wal', replaying it"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"warn","msg":"Failed to read WAL: unexpected EOF"}
{"level":"info","msg":"repairing","path":"/tmp/etcdraft-482614331/wal/0000000000000000-0000000000000000.wal"}
{"level":"info","msg":"repaired","path":"/tmp/etcdraft-482614331/wal/0000000000000000-0000000000000000.wal","error":"unexpected EOF"}
{"level":"warn","msg":"ignored file in WAL directory","path":"0000000000000000-0000000000000000.wal.broken"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 2 entries to memory storage"}
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-540102750/snapshot"}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/etcdraft-540102750/wal'"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 0 entries to memory storage"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000001-0000000000000001.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000002-0000000000000002.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000003-0000000000000003.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000004-0000000000000004.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000005-0000000000000005.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000006-0000000000000006.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000007-0000000000000007.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000008-0000000000000008.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/0000000000000009-0000000000000009.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-540102750/wal/000000000000000a-000000000000000a.wal"}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 3) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 3"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3"}
{"level":"info","msg":"Snapshot is taken at index 3"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000000-0000000000000000.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000001-0000000000000001.wal"}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 5) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 5"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5"}
{"level":"info","msg":"Snapshot is taken at index 5"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000002-0000000000000002.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000003-0000000000000003.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/snapshot/0000000000000000-0000000000000003.snap"}
{"level":"debug","msg":"Loaded snapshot at Term 0 and Index 5, Nodes: [1]"}
{"level":"info","msg":"Found WAL data at path '/tmp/etcdraft-540102750/wal', replaying it"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 5"}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 4 entries to memory storage"}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 7) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 7"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 7"}
{"level":"info","msg":"Snapshot is taken at index 7"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000004-0000000000000004.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000005-0000000000000005.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/snapshot/0000000000000000-0000000000000005.snap"}
{"level":"debug","msg":"Creating snapshot at index 9 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 9) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 9"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 9"}
{"level":"info","msg":"Snapshot is taken at index 9"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000006-0000000000000006.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/wal/0000000000000007-0000000000000007.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-540102750/snapshot/0000000000000000-0000000000000007.snap"}
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-953417765/snapshot"}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/etcdraft-953417765/wal'"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 0 entries to memory storage"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000001-0000000000000001.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000002-0000000000000002.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000003-0000000000000003.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000004-0000000000000004.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000005-0000000000000005.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000006-0000000000000006.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000007-0000000000000007.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000008-0000000000000008.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/0000000000000009-0000000000000009.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-953417765/wal/000000000000000a-000000000000000a.wal"}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 3) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 3"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3"}
{"level":"info","msg":"Snapshot is taken at index 3"}
{"level":"debug","msg":"Snapshots on disk (1) < limit (2), no need to purge wal/snapshot"}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 5) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 5"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5"}
{"level":"info","msg":"Snapshot is taken at index 5"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000000-0000000000000000.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000001-0000000000000001.wal"}
{"level":"debug","msg":"Loaded snapshot at Term 0 and Index 5, Nodes: [1]"}
{"level":"info","msg":"Found WAL data at path '/tmp/etcdraft-953417765/wal', replaying it"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 5"}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 4 entries to memory storage"}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 7) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 7"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 7"}
{"level":"info","msg":"Snapshot is taken at index 7"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000002-0000000000000002.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000003-0000000000000003.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/snapshot/0000000000000000-0000000000000003.snap"}
{"level":"debug","msg":"Creating snapshot at index 9 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 9) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 9"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 9"}
{"level":"info","msg":"Snapshot is taken at index 9"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000004-0000000000000004.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/wal/0000000000000005-0000000000000005.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-953417765/snapshot/0000000000000000-0000000000000005.snap"}
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-598286144/snapshot"}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/etcdraft-598286144/wal'"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 0 entries to memory storage"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000001-0000000000000001.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000002-0000000000000002.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000003-0000000000000003.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000004-0000000000000004.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000005-0000000000000005.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000006-0000000000000006.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000007-0000000000000007.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000008-0000000000000008.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/0000000000000009-0000000000000009.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-598286144/wal/000000000000000a-000000000000000a.wal"}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 3) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 3"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3"}
{"level":"info","msg":"Snapshot is taken at index 3"}
{"level":"debug","msg":"Snapshots on disk (1) < limit (2), no need to purge wal/snapshot"}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 5) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 5"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5"}
{"level":"info","msg":"Snapshot is taken at index 5"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000000-0000000000000000.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000001-0000000000000001.wal"}
{"level":"warn","msg":"failed to unmarshal snappb.Snapshot","path":"/tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap","error":"proto: illegal wireType 7"}
{"level":"error","msg":"Snapshot file /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap is corrupted: proto: illegal wireType 7"}
{"level":"debug","msg":"Renaming corrupted snapshot file /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap to /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap.broken"}
{"level":"warn","msg":"failed to unmarshal snappb.Snapshot","path":"/tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap","error":"proto: illegal wireType 7"}
{"level":"warn","msg":"failed to read a snap file","path":"/tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap","error":"proto: illegal wireType 7"}
{"level":"warn","msg":"renamed to a broken snap file","path":"/tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap","broken-path":"/tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap.broken"}
{"level":"debug","msg":"Loaded snapshot at Term 0 and Index 3, Nodes: [1]"}
{"level":"info","msg":"Found WAL data at path '/tmp/etcdraft-598286144/wal', replaying it"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 3"}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 6 entries to memory storage"}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 7) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 7"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 7"}
{"level":"info","msg":"Snapshot is taken at index 7"}
{"level":"warn","msg":"Found broken snapshot file /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap.broken, it can be removed manually"}
{"level":"debug","msg":"Creating snapshot at index 9 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 9) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 9"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 9"}
{"level":"info","msg":"Snapshot is taken at index 9"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000002-0000000000000002.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000003-0000000000000003.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000004-0000000000000004.wal"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/wal/0000000000000005-0000000000000005.wal"}
{"level":"warn","msg":"Found broken snapshot file /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000005.snap.broken, it can be removed manually"}
{"level":"debug","msg":"Purged file /tmp/etcdraft-598286144/snapshot/0000000000000000-0000000000000003.snap"}
{"level":"debug","msg":"No snapshot found at /tmp/etcdraft-449758111/snapshot"}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/etcdraft-449758111/wal'"}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0"}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}"}
{"level":"debug","msg":"Appending 0 entries to memory storage"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000001-0000000000000001.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000002-0000000000000002.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000003-0000000000000003.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000004-0000000000000004.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000005-0000000000000005.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000006-0000000000000006.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000007-0000000000000007.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000008-0000000000000008.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/0000000000000009-0000000000000009.wal"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/000000000000000a-000000000000000a.wal"}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 3) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 3"}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3"}
{"level":"info","msg":"Snapshot is taken at index 3"}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot"}
{"level":"warn","msg":"Attempted to apply out-of-date snapshot at Term 0 and Index 3"}
{"level":"info","msg":"created a new WAL segment","path":"/tmp/etcdraft-449758111/wal/000000000000000b-000000000000000b.wal"}
{"level":"info","msg":"Persisting snapshot (term: 0, index: 3) to WAL and disk"}
{"level":"debug","msg":"Releasing lock to wal files prior to 3"}
{"level":"warn","msg":"Attempted to apply out-of-date snapshot at Term 0 and Index 3"}
[33m2020-05-08 23:05:37.840 IST [test] OnConsensus -> WARN 01e[0m An attempt to send a consensus request to a non existing channel (notmychannel) was made by 1
[33m2020-05-08 23:05:37.841 IST [test] OnSubmit -> WARN 01f[0m An attempt to submit a transaction to a non existing channel (notmychannel) was made by 1
Running Suite: Etcdraft Suite
=============================
Random Seed: [1m1588959321[0m
Will run [1m104[0m of [1m104[0m specs

[0mMetadata Validation[0m [90mwhen determining parameter well-formedness[0m 
  [1msucceeds when new consensus metadata is nil[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:31[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mwhen determining parameter well-formedness[0m 
  [1mfails when new consensus metadata is not nil while old consensus metadata is nil[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:35[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mwhen determining parameter well-formedness[0m 
  [1mfails when old consensus metadata is not well-formed[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:41[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mwhen determining parameter well-formedness[0m 
  [1mfails when new consensus metadata is not well-formed[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:47[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m 
  [1mfails when new consensus metadata has invalid options[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:98[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mnew channel creation[0m 
  [1mfails when the new consenters are an empty set[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:111[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mnew channel creation[0m 
  [1msucceeds when the new consenters are the same as the existing consenters[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:117[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mnew channel creation[0m 
  [1msucceeds when the new consenters are a subset of the existing consenters[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:122[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mnew channel creation[0m 
  [1mfails when the new consenters are not a subset of the existing consenters[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:128[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1mfails when the new consenters are an empty set[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:143[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1msucceeds when the new consenters are the same as the existing consenters[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:150[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1msucceeds on addition of a single consenter[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:155[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1mfails on addition of more than one consenter[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:166[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1msucceeds on removal of a single consenter[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:185[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1mfails on removal of more than one consenter[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:191[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1msucceeds on rotating certs in case of both addition and removal of a node each to reuse the raft NodeId[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:197[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1msucceeds on removal of inactive node in 2/3 cluster[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:208[0m
[32m•[0m
[90m------------------------------[0m
[0mMetadata Validation[0m [90mvalid old consensus metadata[0m [0mconfig update on a channel[0m 
  [1mfails on removal of active node in 2/3 cluster[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/validator_test.go:215[0m
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen a node starts up[0m 
  [1mproperly configures the communication layer[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:220[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-193587826/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-193587826/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 398ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen a node starts up[0m 
  [1mcorrectly sets the metrics labels and publishes requisite metrics[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:227[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-242628393/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-242628393/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 577ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen no Raft leader is elected[0m 
  [1mfails to order envelope[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:261[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-343986292/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-343986292/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 688ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen no Raft leader is elected[0m 
  [1mstarts proactive campaign[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:271[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-655964483/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-655964483/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 346ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 is starting a new election at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"1 became pre-candidate at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgPreVoteResp from 1 at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mupdates metrics upon leader election[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:287[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-248513990/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-248513990/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 243ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mfails to order envelope if chain is halted[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:294[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-707397229/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-707397229/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 269ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mproduces blocks following batch rules[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:304[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-130972392/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-130972392/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 679ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
[1mSTEP[0m: cutting next batch directly
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
[1mSTEP[0m: respecting batch timeout
{"level":"debug","msg":"Batch timer expired, creating block","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mdoes not reset timer for every envelope[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:345[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-884687655/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-884687655/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 294ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Batch timer expired, creating block","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mdoes not write a block if halted before timeout[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:367[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-569369178/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-569369178/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 185ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mstops the timer if a batch is cut[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:383[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-300912625/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-300912625/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 239ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
[1mSTEP[0m: force a batch to be cut before timer expires
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"debug","msg":"Batch timer expired, creating block","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1mcut two batches if incoming envelope does not fit into first batch[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:421[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-809940124/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-809940124/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 183ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 1 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mrevalidation[0m 
  [1menqueue if envelope is still valid[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:447[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-508428619/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-508428619/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 623ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"warn","msg":"Normal message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mrevalidation[0m 
  [1mdoes not enqueue if envelope is not valid[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:456[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-754540078/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-754540078/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 267ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"warn","msg":"Normal message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"error","msg":"Failed to order message: bad normal message: Envelope is invalid","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m 
  [1munblocks Errored if chain is halted[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:466[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-155172277/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-155172277/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 189ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor existing channel[0m [0mwithout revalidation (i.e. correct config sequence)[0m [90mwithout pending normal envelope[0m 
  [1mshould create a config block and no normal block[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:511[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-074032016/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-074032016/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 213ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor existing channel[0m [0mwithout revalidation (i.e. correct config sequence)[0m [90mwith pending normal envelope[0m 
  [1mshould create a normal block and a config block[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:524[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-622681007/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-622681007/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 263ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
[1mSTEP[0m: adding a normal envelope
[1mSTEP[0m: adding a config envelope
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 1 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor existing channel[0m [0mwith revalidation (i.e. incorrect config sequence)[0m 
  [1mshould create config block upon correct revalidation[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:556[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-853776194/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-853776194/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 263ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"warn","msg":"Config message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor existing channel[0m [0mwith revalidation (i.e. incorrect config sequence)[0m 
  [1mshould not create config block upon incorrect revalidation[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:564[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-169419705/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-169419705/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 276ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"warn","msg":"Config message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"error","msg":"Failed to order message: bad config message: Invalid config envelope at changed config sequence","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor existing channel[0m [0mwith revalidation (i.e. incorrect config sequence)[0m 
  [1mshould not disturb current running timer upon incorrect revalidation[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:572[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-925181892/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-925181892/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 274ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"warn","msg":"Normal message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"warn","msg":"Config message was validated against 0, although current config seq has advanced (1)","channel":"test-channel","node":1}
{"level":"error","msg":"Failed to order message: bad config message: Invalid config envelope at changed config sequence","channel":"test-channel","node":1}
{"level":"debug","msg":"Batch timer expired, creating block","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type A config update comes[0m [90mfor creating a new channel[0m 
  [1mshould be able to create a channel[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:607[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-482934867/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-482934867/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 581ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type B config update comes[0m [90mupdating protocol values[0m 
  [1mshould be able to process config update of type B[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:634[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-878377366/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-878377366/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 256ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mConfig updates[0m [0mwhen a type B config update comes[0m [90mupdating consenters set by exactly one node[0m 
  [1mshould be able to process config update adding single node[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:644[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-591076861/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-591076861/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 261ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Config block just committed adds node 2, pause accepting transactions till config change is applied","channel":"test-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen a chain is started with existing WAL[0m 
  [1mreplays blocks from committed entries[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:718[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-017064248/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-017064248/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 194ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-017064248/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-017064248/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 4}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 4 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 2, commit: 4, applied: 0, lastindex: 4, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 328ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 6) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen a chain is started with existing WAL[0m 
  [1monly replays blocks after Applied index[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:747[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-010645815/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-010645815/wal'","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 1.591µs","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-010645815/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-010645815/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 4}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 4 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 2, commit: 4, applied: 0, lastindex: 4, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 174ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Received block with raft index (3) <= applied index (3), skip","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 6) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen a chain is started with existing WAL[0m 
  [1mdoes not replay any block if already in sync[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:773[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-038554410/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-038554410/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 192ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-038554410/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-038554410/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 4}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 4 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 2, commit: 4, applied: 0, lastindex: 4, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 824ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Received block with raft index (3) <= applied index (4), skip","channel":"test-channel","node":1}
{"level":"debug","msg":"Received block with raft index (4) <= applied index (4), skip","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen a chain is started with existing WAL[0m [90mWAL file is not readable[0m 
  [1mfails to load wal[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:793[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-060873857/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-060873857/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 165ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-060873857/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-060873857/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mSmall SnapshotInterval[0m 
  [1mwrites snapshot file to snapDir[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:857[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-245315052/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-245315052/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 225ns","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 3), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 3) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 1","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [2] (index: 4), last snapshotted block number is 1, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mSmall SnapshotInterval[0m 
  [1mpauses chain if sync is in progress[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:885[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-128603739/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-128603739/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 561ns","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 3), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 3) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 1","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [2] (index: 4), last snapshotted block number is 1, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"debug","msg":"Loaded snapshot at Term 2 and Index 4, Nodes: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-128603739/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 2 and Index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 4}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [1], term: 2, commit: 4, applied: 4, lastindex: 4, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 189ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Catching up with snapshot taken at block [2], starting from block [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Finished syncing with cluster up to and including block [2]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m {"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
[0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mSmall SnapshotInterval[0m 
  [1mrestores snapshot w/o extra entries[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:943[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-730598398/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-730598398/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 174ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 3), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 3 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 3) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 1","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"debug","msg":"Loaded snapshot at Term 2 and Index 3, Nodes: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-730598398/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 2 and Index 3","channel":"test-channel","node":1}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 3}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [1], term: 2, commit: 3, applied: 3, lastindex: 3, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 203ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"debug","msg":"Skip snapshot taken at index 3, because it is behind current applied index 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 is starting a new election at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became pre-candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgPreVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 5), last snapshotted block number is 1, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 3, index: 5) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 5","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 1","channel":"test-channel","node":1}
{"level":"warn","msg":"Raft entries prior to 1 are already purged","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 5","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"Loaded snapshot at Term 3 and Index 5, Nodes: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-730598398/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 3 and Index 5","channel":"test-channel","node":1}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 3, Commit: 5}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [1], term: 3, commit: 5, applied: 5, lastindex: 5, lastterm: 3]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 955ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"debug","msg":"Skip snapshot taken at index 5, because it is behind current applied index 5","channel":"test-channel","node":1}
{"level":"info","msg":"1 is starting a new election at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became pre-candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgPreVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 4","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 4","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 4","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 4","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mLarge SnapshotInterval[0m 
  [1mrestores snapshot w/ extra entries[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1018[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-171343173/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-171343173/wal'","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 278ns","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
[1mSTEP[0m: Ordering two large envelopes to trigger snapshot
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 1228 bytes since last snapshot, exceeding size limit (1024 bytes), taking snapshot at block [2] (index: 4), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
[1mSTEP[0m: Ordering another envlope to append new data to memory after snaphost
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 5) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[1mSTEP[0m: Restarting the node
{"level":"debug","msg":"Loaded snapshot at Term 2 and Index 4, Nodes: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-171343173/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 2 and Index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 5}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 1 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [1], term: 2, commit: 5, applied: 4, lastindex: 5, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 294ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
[1mSTEP[0m: Checking latest index is larger than index in snapshot
{"level":"debug","msg":"Skip snapshot taken at index 4, because it is behind current applied index 4","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mLarge SnapshotInterval[0m [0mwhen local ledger is in sync with snapshot[0m 
  [1mdoes not pull blocks and still respects snapshot interval[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1080[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-540151776/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-540151776/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 294ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
[1mSTEP[0m: Ordering two large envelopes to trigger snapshot
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 4) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 1228 bytes since last snapshot, exceeding size limit (1024 bytes), taking snapshot at block [2] (index: 4), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
[1mSTEP[0m: Cutting block [3]
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 5) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[1mSTEP[0m: Restarting node at block [2]
{"level":"debug","msg":"Loaded snapshot at Term 2 and Index 4, Nodes: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-540151776/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 2 and Index 4","channel":"test-channel","node":1}
{"level":"debug","msg":"Applying snapshot to raft MemoryStorage","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 5}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 1 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [1], term: 2, commit: 5, applied: 4, lastindex: 5, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 165ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"debug","msg":"Skip snapshot taken at index 4, because it is behind current applied index 4","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 5) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [3]","channel":"test-channel","node":1}
[1mSTEP[0m: Ordering one more block to trigger snapshot
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [4], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [4] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [4] (Raft index: 7) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 1228 bytes since last snapshot, exceeding size limit (1024 bytes), taking snapshot at block [4] (index: 7), last snapshotted block number is 2, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 3, index: 7) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 7","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3","channel":"test-channel","node":1}
{"level":"warn","msg":"Raft entries prior to 3 are already purged","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 7","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mCrash Fault Tolerance[0m [0mwhen snapshotting is enabled (snapshot interval is not zero)[0m [90mLarge SnapshotInterval[0m 
  [1mrespects snapshot interval after reboot[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1148[0m
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-580007871/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-580007871/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 392ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 3) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[1mSTEP[0m: Restarting chain
{"level":"debug","msg":"No snapshot found at /tmp/wal-580007871/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"Found WAL data at path '/tmp/wal-580007871/wal', replaying it","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 2, Commit: 3}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 3 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Restarting raft node","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 2, commit: 3, applied: 0, lastindex: 3, lastterm: 2]","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 198ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgTimeoutNow from 0 but is not promotable","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Received block with raft index (3) <= applied index (3), skip","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"test-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"test-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 5) to ledger","channel":"test-channel","node":1}
{"level":"info","msg":"Accumulated 1228 bytes since last snapshot, exceeding size limit (1024 bytes), taking snapshot at block [2] (index: 5), last snapshotted block number is 0, current nodes: [1]","channel":"test-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage","channel":"test-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 3, index: 5) to WAL and disk","channel":"test-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 5","channel":"test-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 1","channel":"test-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 5","channel":"test-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mInvalid WAL dir[0m [0mwhen WAL dir is a file[0m 
  [1mreplaces file with fresh WAL dir[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1200[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-521217042/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-521217042/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 896ns","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-521217042/snapshot","channel":"","node":0}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-711914569'","channel":"","node":0}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"","node":0}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"","node":0}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"","node":0}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mInvalid WAL dir[0m [0mwhen WAL dir is not writeable[0m 
  [1mreplace it with fresh WAL dir[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1231[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-955033364/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-955033364/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 346ns","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-955033364/snapshot","channel":"","node":0}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-693217635'","channel":"","node":0}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"","node":0}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"","node":0}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"","node":0}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90mSingle Raft node[0m [0mwhen Raft leader is elected[0m [90mInvalid WAL dir[0m [0mwhen WAL parent dir is not writeable[0m 
  [1mfails to bootstrap fresh raft node[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1261[0m
{"level":"debug","msg":"No snapshot found at /tmp/wal-773993830/snapshot","channel":"test-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-773993830/wal'","channel":"test-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"test-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"test-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"test-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"test-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 1","channel":"test-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"test-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"test-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"test-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 666ns","channel":"test-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"test-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"test-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1]","channel":"test-channel","node":1}
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"test-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"test-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"test-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"test-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"test-channel","node":1}
{"level":"debug","msg":"1 no progress available for 0","channel":"test-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/wal-773993830/snapshot","channel":"","node":0}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/wal-653275533/wal-dir'","channel":"","node":0}
{"level":"warn","msg":"failed to create a temporary WAL directory","channel":"","node":0,"tmp-dir-path":"/tmp/wal-653275533/wal-dir.tmp","dir-path":"/tmp/wal-653275533/wal-dir","error":"mkdir /tmp/wal-653275533/wal-dir.tmp: permission denied"}
{"level":"info","msg":"Raft node stopped","channel":"test-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"test-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"test-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"test-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"test-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m2-node Raft cluster[0m 
  [1mcan remove leader by reconfiguring cluster[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1374[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-153971592/node-1-289591111/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-153971592/node-1-289591111/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-153971592/node-2-722877434/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-153971592/node-2-722877434/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 193ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 312ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 2] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 2, vote: 0] cast MsgVote for 1 [logterm: 1, index: 2] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Configuring cluster to remove node
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 [logterm: 0, index: 4] rejected msgApp [logterm: 2, index: 4] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 3) from 2 for index 4","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 4, match = 3, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 1513 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 1513 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Transferring leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sends MsgTimeoutNow to 2 immediately as 2 already has up-to-date log","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is being removed from replica set","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 1 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [1]","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Asserting leader can still serve requests as single-node cluster
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m2-node Raft cluster[0m 
  [1mcan remove leader by reconfiguring cluster even if leadership transfer fails[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1400[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-436357393/node-2-458962283/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-436357393/node-2-458962283/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-436357393/node-1-963127612/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-436357393/node-1-963127612/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 372ns","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 239ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 2] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 2, vote: 0] cast MsgVote for 1 [logterm: 1, index: 2] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Configuring cluster to remove node
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 1513 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 1513 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Transferring leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sends MsgTimeoutNow to 2 immediately as 2 already has up-to-date log","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":2}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is being removed from replica set","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [1]","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Asserting leader can still serve requests as single-node cluster
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m2-node Raft cluster[0m 
  [1mcan remove follower by reconfiguring cluster[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1435[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-785140686/node-1-780539605/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-785140686/node-1-780539605/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-785140686/node-2-927377456/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-785140686/node-2-927377456/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 245ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 272ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 2] sent MsgVote request to 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 1] received a MsgVote message with higher term from 2 [term: 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 2, vote: 0] cast MsgVote for 2 [logterm: 1, index: 2] at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 1 elected leader 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 2 is present, quit campaign","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 4) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 1509 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 1509 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [1] (index: 4), last snapshotted block number is 0, current nodes: [1 2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 4 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 4) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 not forwarding to leader 2 at term 2; dropping proposal","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is being removed from replica set","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Asserting leader can still serve requests as single-node cluster
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 4","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 2/3 nodes are running[0m 
  [1mlate node can catch up[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1519[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-036933071/node-1-541036770/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-036933071/node-1-541036770/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-036933071/node-2-874897113/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-036933071/node-2-874897113/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-036933071/node-3-159800420/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-036933071/node-3-159800420/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 218ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 376ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 370ns","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Last config block was found to be block [0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgHeartbeat message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 2/3 nodes are running[0m 
  [1mlate node receives snapshot from leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1547[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-396930675/node-1-305631542/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-396930675/node-1-305631542/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-396930675/node-2-444109085/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-396930675/node-2-444109085/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-396930675/node-3-931996120/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-396930675/node-3-931996120/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 1.379µs","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 256ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 4, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 5), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 5) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 1, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 174ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: retry attempts exhausted","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgHeartbeat message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 [firstindex: 6, commit: 6] sent snapshot[index: 6, term: 2] to 3 [next = 4, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 paused sending replication messages to 3 [next = 4, match = 0, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [commit: 3, lastindex: 3, lastterm: 1] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"log [committed=3, applied=3, unstable.offset=4, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 restored progress of 2 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 restored progress of 3 [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 snapshot succeeded, resumed sending replication messages to 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Catching up with snapshot taken at block [2], starting from block [1]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Finished syncing with cluster up to and including block [2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mchannel creation[0m 
  [1msucceeds with valid config metadata[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1698[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-553133911/node-1-061836490/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-553133911/node-1-061836490/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-553133911/node-2-175174049/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-553133911/node-2-175174049/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-553133911/node-3-311125644/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-553133911/node-3-311125644/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 2 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mcan rotate certificate by adding and removing 1 node in one config update[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1713[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-154833531/node-3-503837312/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-154833531/node-3-503837312/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-154833531/node-1-698062750/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-154833531/node-1-698062750/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-154833531/node-2-014491237/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-154833531/node-2-014491237/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 2 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: creating new configuration with removed node and new one
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 4133 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 4133 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 4133 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mrotates leader certificate and triggers leadership transfer[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1753[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-156075487/node-3-770521524/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-156075487/node-3-770521524/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-156075487/node-1-877069746/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-156075487/node-1-877069746/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-156075487/node-2-573315433/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-156075487/node-2-573315433/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: creating new configuration with removed node and new one
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 4137 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 4137 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Transferring leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sent MsgTimeoutNow to 2 after received MsgAppResp","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 4137 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 1 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 1 elected leader 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m [0mwhen Leader is disconnected after cert rotation[0m 
  [1mstill configures communication after failed leader transfer attempt[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1795[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-018177923/node-2-449609901/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-018177923/node-2-449609901/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-018177923/node-3-307473448/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-018177923/node-3-307473448/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-018177923/node-1-576585478/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-018177923/node-1-576585478/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: creating new configuration with removed node and new one
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 4125 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 4125 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 4125 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Transferring leadership to 2","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sends MsgTimeoutNow to 2 immediately as 2 already has up-to-date log","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":2}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m [0mwhen Follower is disconnected while leader cert is being rotated[0m 
  [1mstill configures communication and transfer leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1857[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-362010471/node-1-005951898/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-362010471/node-1-005951898/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-362010471/node-2-815905329/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-362010471/node-2-815905329/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-362010471/node-3-402858972/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-362010471/node-3-402858972/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
[1mSTEP[0m: creating new configuration with removed node and new one
[1mSTEP[0m: sending config transaction
{"level":"debug","msg":"Current active nodes in cluster are: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 4141 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Certificate of Raft leader is being rotated, attempt leader transfer before reconfiguring communication","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 4141 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Transferring leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sends MsgTimeoutNow to 2 immediately as 2 already has up-to-date log","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 1 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 received MsgVoteResp from 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 1 elected leader 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 3 because it is unreachable [next = 7, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader has been transferred from 1 to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 8, match = 7, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"3 [logterm: 0, index: 6] rejected msgApp [logterm: 2, index: 6] from 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 5) from 3 for index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 decreased progress of 3 to [next = 6, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block [2] rotates TLS certificate of node 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 4141 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 7), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 3, index: 7) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 7","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 7","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Ordering normal transaction
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 8, match = 7, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 8, match = 7, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"3 [logterm: 0, index: 8] rejected msgApp [logterm: 3, index: 8] from 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 7) from 3 for index 8","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 decreased progress of 3 to [next = 8, match = 7, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1madding node to the cluster[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1927[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-729815947/node-1-137183086/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-729815947/node-1-137183086/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-729815947/node-2-753836533/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-729815947/node-2-753836533/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-729815947/node-3-987036880/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-729815947/node-3-987036880/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 5386 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 5386 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 5386 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-729815947/snapshot","channel":"multi-node-channel","node":4}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-729815947/wal'","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Starting raft node: #peers: 4","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting raft node to join an existing channel","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 0","channel":"multi-node-channel","node":4}
{"level":"info","msg":"newRaft 4 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 1","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Suspecting our own eviction from the channel for 354ns","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Last config block was found to be block [2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [term: 1] received a MsgHeartbeat message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 2","channel":"multi-node-channel","node":4}
{"level":"info","msg":"raft.node: 4 elected leader 1 at term 2","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"4 [logterm: 0, index: 7] rejected msgApp [logterm: 2, index: 7] from 1","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 0) from 4 for index 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 4 to [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 [firstindex: 3, commit: 7] sent snapshot[index: 6, term: 2] to 4 [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 paused sending replication messages to 4 [next = 1, match = 0, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"4 [commit: 0, lastindex: 0, lastterm: 0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"log [committed=0, applied=0, unstable.offset=1, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 2 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"1 snapshot succeeded, resumed sending replication messages to 4 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":4}
[1mSTEP[0m: submitting new transaction to follower
{"level":"warn","msg":"Snapshot is at block [2], local block number is 2, no sync needed","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 [logterm: 0, index: 8] rejected msgApp [logterm: 2, index: 8] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 7) from 2 for index 8","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 8, match = 7, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 8) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":4}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mdoes not reconfigure raft cluster if it's a channel creation tx[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:1983[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-700815855/node-2-458266105/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-700815855/node-2-458266105/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-700815855/node-3-455125764/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-700815855/node-3-455125764/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-700815855/node-1-191453826/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-700815855/node-1-191453826/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mstop leader and continue reconfiguration failing over to new leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2017[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-628255891/node-1-797740246/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-628255891/node-1-797740246/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-628255891/node-2-737842237/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-628255891/node-2-737842237/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-628255891/node-3-914754168/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-628255891/node-3-914754168/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 7, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-628255891/snapshot","channel":"multi-node-channel","node":4}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-628255891/wal'","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Starting raft node: #peers: 4","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting raft node to join an existing channel","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 0","channel":"multi-node-channel","node":4}
{"level":"info","msg":"newRaft 4 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 1","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Suspecting our own eviction from the channel for 288ns","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Last config block was found to be block [2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 7, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"4 [term: 1] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"raft.node: 4 elected leader 2 at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"4 [logterm: 0, index: 8] rejected msgApp [logterm: 3, index: 8] from 2","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 0) from 4 for index 8","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 decreased progress of 4 to [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 [firstindex: 3, commit: 8] sent snapshot[index: 6, term: 2] to 4 [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 paused sending replication messages to 4 [next = 1, match = 0, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"4 [commit: 0, lastindex: 0, lastterm: 0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 snapshot succeeded, resumed sending replication messages to 4 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"log [committed=0, applied=0, unstable.offset=1, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 2 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":4}
{"level":"warn","msg":"Snapshot is at block [2], local block number is 2, no sync needed","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":4}
[1mSTEP[0m: submitting new transaction to follower
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 7, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"found conflict at index 7 [existing term: 2, conflicting term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"replace the unstable entries from index 7","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":4}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mstop cluster quorum and continue reconfiguration after the restart[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2103[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-864452983/node-3-869922092/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-864452983/node-3-869922092/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-864452983/node-1-211459690/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-864452983/node-1-211459690/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-864452983/node-2-463560897/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-864452983/node-2-463560897/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 5398 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 5398 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 5398 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-864452983/snapshot","channel":"multi-node-channel","node":4}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-864452983/wal'","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":4}
[1mSTEP[0m: reconnecting nodes back
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 [logterm: 2, index: 7, vote: 0] rejected MsgVote from 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"found conflict at index 7 [existing term: 2, conflicting term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"replace the unstable entries from index 7","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Starting raft node: #peers: 4","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting raft node to join an existing channel","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 0","channel":"multi-node-channel","node":4}
{"level":"info","msg":"newRaft 4 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 1","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Suspecting our own eviction from the channel for 250ns","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Last config block was found to be block [2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [term: 1] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"raft.node: 4 elected leader 2 at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"4 [logterm: 0, index: 8] rejected msgApp [logterm: 3, index: 8] from 2","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 0) from 4 for index 8","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 decreased progress of 4 to [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 [firstindex: 3, commit: 8] sent snapshot[index: 6, term: 2] to 4 [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 paused sending replication messages to 4 [next = 1, match = 0, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"4 [commit: 0, lastindex: 0, lastterm: 0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"log [committed=0, applied=0, unstable.offset=1, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 2 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"2 snapshot succeeded, resumed sending replication messages to 4 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":4}
{"level":"warn","msg":"Snapshot is at block [2], local block number is 2, no sync needed","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":4}
[1mSTEP[0m: submitting new transaction to follower
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 [logterm: 0, index: 9] rejected msgApp [logterm: 3, index: 9] from 2","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 8) from 1 for index 9","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":4}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mensures that despite leader failure cluster continue to process configuration to remove the leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2189[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-183951003/node-1-212674878/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-183951003/node-1-212674878/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-183951003/node-2-784303493/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-183951003/node-2-784303493/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-183951003/node-3-116232480/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-183951003/node-3-116232480/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 2876 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 2876 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 2876 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 6, match = 5, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"warn","msg":"No leader is present, cluster size is 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 6, vote: 0] cast MsgVote for 2 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"warn","msg":"No leader is present, cluster size is 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 7, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":2}
[1mSTEP[0m: submitting new transaction to follower
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mremoves leader from replica set[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2243[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-533928447/node-1-154422098/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-533928447/node-1-154422098/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-533928447/node-2-217815177/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-533928447/node-2-217815177/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-533928447/node-3-365642836/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-533928447/node-3-365642836/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 2 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 2884 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block just committed removes node 1, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 2884 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 2884 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to remove node 1, current nodes in channel: [2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Current leader is being removed from channel, attempt leadership transfer","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Transferring leadership to 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [term 2] starts to transfer leadership to 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 sends MsgTimeoutNow to 3 immediately as 3 already has up-to-date log","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term 2] received MsgTimeoutNow from 1 and starts an election to get leadership.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became candidate at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 7] sent MsgVote request to 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 2] received a MsgVote message with higher term from 3 [term: 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 7, vote: 0] cast MsgVote for 3 [logterm: 2, index: 7] at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"warn","msg":"No leader is present, cluster size is 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 became leader at term 3","channel":"multi-node-channel","node":3}
{"level":"warn","msg":"No leader is present, cluster size is 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 3 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader has been transferred from 1 to 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"warn","msg":"Leader transfer timeout","channel":"multi-node-channel","node":1}
{"level":"info","msg":"This node is being removed from replica set","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection refused","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 8, match = 7, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader has been transferred from 1 to 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
[1mSTEP[0m: submitting transaction to new leader
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 9) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: trying to submit to new node, expected to fail
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen reconfiguring raft cluster[0m [90mreconfiguration[0m 
  [1mdoes not deadlock if leader steps down while config block is in-flight[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2314[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-854350755/node-1-597361830/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-854350755/node-1-597361830/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-854350755/node-2-964755917/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-854350755/node-2-964755917/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-854350755/node-3-523479240/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-854350755/node-3-523479240/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Submitting first tx to cut the block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 5, match = 4, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 4) from 2 for index 5","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Sending config transaction
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Update snapshot interval size to 200 bytes (was 16777216)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 not forwarding to leader 1 at term 2; dropping proposal","channel":"multi-node-channel","node":2}
[1mSTEP[0m: Ticking leader till it steps down
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 3 2]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"1 stepped down to follower since quorum is not active","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block just committed adds node 4, pause accepting transactions till config change is applied","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 5390 bytes since last snapshot, exceeding size limit (200 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Re-electing 1 as leader
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 6] sent MsgVote request to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 6] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 1 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 6, vote: 0] cast MsgVote for 1 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 2] received a MsgVote message with higher term from 1 [term: 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 became follower at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 6, vote: 0] cast MsgVote for 1 [logterm: 2, index: 6] at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 became leader at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"propose conf Type:EntryConfChange Data:\"\\010\\000\\020\\000\\030\\004\"  ignored since pending unapplied configuration [index 8, applied 6]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-854350755/snapshot","channel":"multi-node-channel","node":4}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-854350755/wal'","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Start accepting requests as Raft leader at block [2]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Config block or ConfChange in flight, pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"Starting raft node: #peers: 4","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Starting raft node to join an existing channel","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 0","channel":"multi-node-channel","node":4}
{"level":"info","msg":"newRaft 4 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 1","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Suspecting our own eviction from the channel for 280ns","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Last config block was found to be block [2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [term: 1] received a MsgHeartbeat message with higher term from 1 [term: 3]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 became follower at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"raft.node: 4 elected leader 1 at term 3","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"4 [logterm: 0, index: 9] rejected msgApp [logterm: 3, index: 9] from 1","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 0) from 4 for index 9","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 4 to [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 [firstindex: 3, commit: 9] sent snapshot[index: 6, term: 2] to 4 [next = 1, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 paused sending replication messages to 4 [next = 1, match = 0, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"4 [commit: 0, lastindex: 0, lastterm: 0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"log [committed=0, applied=0, unstable.offset=1, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 2 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 restored progress of 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"4 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"1 snapshot succeeded, resumed sending replication messages to 4 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Submitting tx to confirm network is still working
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"2 [logterm: 0, index: 10] rejected msgApp [logterm: 3, index: 10] from 1","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 9) from 2 for index 10","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 2 to [next = 10, match = 9, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 10) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 10) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 10) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"4 [logterm: 0, index: 10] rejected msgApp [logterm: 3, index: 10] from 1","channel":"multi-node-channel","node":4}
{"level":"warn","msg":"Snapshot is at block [2], local block number is 2, no sync needed","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Applied config change to add node 4, current nodes in channel: [1 2 3 4]","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Writing block [3] (Raft index: 10) to ledger","channel":"multi-node-channel","node":4}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 4 for index 10","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":4}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":4}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1mcorrectly sets the cluster size and leadership metrics[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2388[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-179723143/node-2-255824721/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-179723143/node-2-255824721/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-179723143/node-3-499098748/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-179723143/node-3-499098748/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-179723143/node-1-824939834/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-179723143/node-1-824939834/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 392ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 436ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 303ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1morders envelope on leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2406[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-092289451/node-1-017053966/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-092289451/node-1-017053966/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-092289451/node-2-162301717/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-092289451/node-2-162301717/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-092289451/node-3-584543088/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-092289451/node-3-584543088/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 269ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 256ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 410ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
[1mSTEP[0m: instructed to cut next block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
[1mSTEP[0m: respect batch timeout
{"level":"debug","msg":"Batch timer expired, creating block","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1morders envelope on follower[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2435[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-245754895/node-1-818865698/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-245754895/node-1-818865698/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-245754895/node-2-223113497/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-245754895/node-2-223113497/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-245754895/node-3-775347620/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-245754895/node-3-775347620/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 612ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 220ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 262ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: instructed to cut next block
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: respect batch timeout
{"level":"debug","msg":"Batch timer expired, creating block","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen MaxInflightBlocks is reached[0m 
  [1mwaits for in flight blocks to be committed[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2471[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-212744883/node-3-380757272/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-212744883/node-3-380757272/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-212744883/node-1-805725814/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-212744883/node-1-805725814/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-212744883/node-2-200170845/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-212744883/node-2-200170845/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 341ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 330ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 254ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Number of in-flight blocks (1) reaches limit (1), pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Number of in-flight blocks (1) reaches limit (1), pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen MaxInflightBlocks is reached[0m 
  [1mresets block in flight when steps down from leader[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2499[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-961514903/node-1-088075274/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-961514903/node-1-088075274/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-961514903/node-2-138712545/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-961514903/node-2-138712545/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-961514903/node-3-869506508/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-961514903/node-3-869506508/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 1.476µs","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 222ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 220ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Number of in-flight blocks (1) reaches limit (1), pause accepting transaction","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 5, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Number of in-flight blocks (1) reaches limit (1), pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Number of in-flight blocks (1) reaches limit (1), pause accepting transaction","channel":"multi-node-channel","node":2}
{"level":"info","msg":"found conflict at index 5 [existing term: 2, conflicting term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"replace the unstable entries from index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen leader is disconnected[0m 
  [1mproactively steps down to follower[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2537[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-758228667/node-1-769545438/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-758228667/node-1-769545438/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-758228667/node-2-091233957/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-758228667/node-2-091233957/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-758228667/node-3-971062208/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-758228667/node-3-971062208/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 210ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 292ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 464ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Ticking leader until it steps down
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 3 2]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"1 stepped down to follower since quorum is not active","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Ensuring it does not accept message due to the cluster being leaderless
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 5, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen leader is disconnected[0m 
  [1mdoes not deadlock if propose is blocked[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2571[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-767933983/node-1-930125554/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-767933983/node-1-930125554/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-767933983/node-2-009086889/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-767933983/node-2-009086889/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-767933983/node-3-536035572/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-767933983/node-3-536035572/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 310ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 241ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 261ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Sending a normal transaction
[1mSTEP[0m: Ticking leader till it steps down
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Current active nodes in cluster are: [1]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"warn","msg":"1 stepped down to follower since quorum is not active","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to propose block [1] to raft and discard 0 blocks in queue: context canceled","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Re-electing 1 as leader
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 4] sent MsgVote request to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 1 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 1 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 2] received a MsgVote message with higher term from 1 [term: 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4, vote: 0] cast MsgVote for 1 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
[1mSTEP[0m: Sending another normal transaction
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen follower is disconnected[0m 
  [1mshould return error when receiving an env[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2614[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-197383107/node-1-059876422/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-197383107/node-1-059876422/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-197383107/node-2-933630701/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-197383107/node-2-933630701/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-197383107/node-3-553341800/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-197383107/node-3-553341800/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 183ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 216ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 269ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
[1mSTEP[0m: Ticking node 2 until it becomes pre-candidate
{"level":"info","msg":"2 is starting a new election at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became pre-candidate at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgPreVoteResp from 2 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 3 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1mleader retransmits lost messages[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2641[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-666389927/node-1-532345562/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-666389927/node-1-532345562/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-666389927/node-2-217719921/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-666389927/node-2-217719921/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-666389927/node-3-514904860/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-666389927/node-3-514904860/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 457ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 309ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 532ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1mallows the leader to create multiple normal blocks without having to wait for them to be written out[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2665[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-712144331/node-1-356071598/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-712144331/node-1-356071598/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-712144331/node-2-992120885/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-712144331/node-2-992120885/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-712144331/node-3-608198672/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-712144331/node-3-608198672/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 252ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 194ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 234ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 1 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [3], there are 2 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m 
  [1mnew leader should wait for in-fight blocks to commit before accepting new env[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2695[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-296542767/node-3-715167300/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-296542767/node-3-715167300/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-296542767/node-1-120686018/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-296542767/node-1-120686018/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-296542767/node-2-445715001/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-296542767/node-2-445715001/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 279ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 258ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 265ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 5] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 5] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 5] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"3 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 received msgApp rejection(lastindex: 4) from 3 for index 5","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 decreased progress of 3 to [next = 5, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [1]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mhandling config blocks[0m 
  [1mholds up block creation on leader once a config block has been created and not written out[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2793[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-253340883/node-3-564775864/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-253340883/node-3-564775864/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-253340883/node-1-473156630/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-253340883/node-1-473156630/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-253340883/node-2-015485565/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-253340883/node-2-015485565/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 230ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 321ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 252ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 3 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mhandling config blocks[0m 
  [1mcontinues creating blocks on leader after a config block has been successfully written out[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2835[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-117180343/node-2-943545089/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-117180343/node-2-943545089/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-117180343/node-3-035676268/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-117180343/node-3-035676268/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-117180343/node-1-648556970/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-117180343/node-1-648556970/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 154ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 479ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 427ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Received config transaction, pause accepting transaction till it is committed","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen Snapshotting is enabled[0m 
  [1mkeeps running if some entries in memory are purged[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2861[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-044596955/node-1-588716670/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-044596955/node-1-588716670/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-044596955/node-2-854749125/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-044596955/node-2-854749125/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-044596955/node-3-808755808/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-044596955/node-3-808755808/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 314ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 272ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 408ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 5), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 5) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 1, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [3] (index: 7), last snapshotted block number is 2, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 7) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 6","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (3) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mwhen Snapshotting is enabled[0m 
  [1mlagged node can catch up using snapshot[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2906[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-200793663/node-2-693557961/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-200793663/node-2-693557961/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-200793663/node-3-527980436/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-200793663/node-3-527980436/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-200793663/node-1-694803090/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-200793663/node-1-694803090/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 196ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 163ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 260ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [1] (index: 5), last snapshotted block number is 0, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 5 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 5) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 5","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (1) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [2] (index: 6), last snapshotted block number is 1, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 6 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 5","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (2) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 [firstindex: 6, commit: 6] sent snapshot[index: 6, term: 2] to 2 [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 paused sending replication messages to 2 [next = 5, match = 4, state = ProgressStateSnapshot, waiting = true, pendingSnapshot = 6]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [commit: 4, lastindex: 4, lastterm: 2] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"log [committed=4, applied=4, unstable.offset=5, len(unstable.Entries)=0] starts to restore snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 restored progress of 1 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 restored progress of 2 [next = 7, match = 6, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 restored progress of 3 [next = 7, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [commit: 6] restored snapshot [index: 6, term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 6) to WAL and disk","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 snapshot succeeded, resumed sending replication messages to 2 [next = 7, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Releasing lock to wal files prior to 6","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Catching up with snapshot taken at block [2], starting from block [1]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Finished syncing with cluster up to and including block [2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [3], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Accumulated 122 bytes since last snapshot, exceeding size limit (1 bytes), taking snapshot at block [3] (index: 7), last snapshotted block number is 2, current nodes: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Creating snapshot at index 7 from MemoryStorage","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Persisting snapshot (term: 2, index: 7) to WAL and disk","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Releasing lock to wal files prior to 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Purging in-memory raft entries prior to 6","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Snapshot is taken at index 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Snapshots on disk (3) < limit (4), no need to purge wal/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mfollower should step up as leader upon failover[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2953[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-815063523/node-1-355065318/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-815063523/node-1-355065318/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-815063523/node-2-842614797/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-815063523/node-2-842614797/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-815063523/node-3-147634696/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-815063523/node-3-147634696/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 352ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 252ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 222ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
[1mSTEP[0m: order envelope on new leader
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
[1mSTEP[0m: order envelope on follower
{"level":"info","msg":"Created block [2], there are 0 blocks in flight","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mfollower cannot be elected if its log is not up-to-date[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:2981[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-181489607/node-1-721797754/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-181489607/node-1-721797754/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-181489607/node-2-578335121/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-181489607/node-2-578335121/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-181489607/node-3-786297788/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-181489607/node-3-786297788/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 332ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 385ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 232ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 is starting a new election at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became pre-candidate at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgPreVoteResp from 2 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 3 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [logterm: 2, index: 5, vote: 1] ignored MsgPreVote from 2 [logterm: 2, index: 4] at term 2: lease is not expired (remaining ticks: 10)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 350ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Last config block was found to be block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 500.294604ms","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Last config block was found to be block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 1.000606421s","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Last config block was found to be block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 3
{"level":"info","msg":"3 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became candidate at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 5] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 5] sent MsgVote request to 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 2] received a MsgVote message with higher term from 3 [term: 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4, vote: 0] cast MsgVote for 3 [logterm: 2, index: 5] at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became leader at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 elected leader 3 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 3","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"3 failed to send message to 1 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"2 [logterm: 0, index: 5] rejected msgApp [logterm: 2, index: 5] from 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"3 received msgApp rejection(lastindex: 4) from 2 for index 5","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"3 decreased progress of 2 to [next = 5, match = 0, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Start accepting requests as Raft leader at block [1]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mPreVote prevents reconnected node from disturbing network[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3008[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-199930859/node-1-515518542/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-199930859/node-1-515518542/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-199930859/node-2-538492245/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-199930859/node-2-538492245/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-199930859/node-3-913141424/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-199930859/node-3-913141424/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 265ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 243ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 290ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 is starting a new election at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became pre-candidate at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgPreVoteResp from 2 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgPreVote request to 3 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [logterm: 2, index: 5, vote: 1] ignored MsgPreVote from 2 [logterm: 2, index: 4] at term 2: lease is not expired (remaining ticks: 10)","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [logterm: 2, index: 5, vote: 1] ignored MsgPreVote from 2 [logterm: 2, index: 4] at term 2: lease is not expired (remaining ticks: 10)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 229ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Last config block was found to be block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Our height is higher or equal than the height of the orderer we pulled the last block from, aborting.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mfollower can catch up and then campaign with success[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3030[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-766306383/node-1-413132642/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-766306383/node-1-413132642/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-766306383/node-2-785100633/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-766306383/node-2-785100633/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-766306383/node-3-204830436/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-766306383/node-3-204830436/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 626ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 241ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 301ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [2], there are 1 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [2] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [3], there are 2 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [3] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [4], there are 3 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [5], there are 4 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [6], there are 5 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [4] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [5] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [7], there are 6 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [6] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [7] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [8], there are 7 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [9], there are 8 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [10], there are 9 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [8] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [9] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [10] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 6] rejected msgApp [logterm: 2, index: 6] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 7] rejected msgApp [logterm: 2, index: 7] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 5) from 3 for index 6","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 6, match = 5, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 8] rejected msgApp [logterm: 2, index: 8] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"3 [logterm: 0, index: 9] rejected msgApp [logterm: 2, index: 9] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 11] rejected msgApp [logterm: 2, index: 11] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"3 [logterm: 0, index: 10] rejected msgApp [logterm: 2, index: 10] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 13] rejected msgApp [logterm: 2, index: 13] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 10","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 decreased progress of 3 to [next = 7, match = 6, state = ProgressStateReplicate, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"3 [logterm: 0, index: 12] rejected msgApp [logterm: 2, index: 12] from 1","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 7","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 8","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 13","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 9","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 11","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 received msgApp rejection(lastindex: 6) from 3 for index 12","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [4] (Raft index: 8) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [5] (Raft index: 9) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [6] (Raft index: 10) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [7] (Raft index: 11) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [8] (Raft index: 12) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [9] (Raft index: 13) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [4] (Raft index: 8) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [5] (Raft index: 9) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [6] (Raft index: 10) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [7] (Raft index: 11) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [8] (Raft index: 12) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [9] (Raft index: 13) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Writing block [10] (Raft index: 14) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [10] (Raft index: 14) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 5) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [2] (Raft index: 6) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [3] (Raft index: 7) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [4] (Raft index: 8) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [5] (Raft index: 9) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [6] (Raft index: 10) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [7] (Raft index: 11) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [8] (Raft index: 12) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [9] (Raft index: 13) to ledger","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Writing block [10] (Raft index: 14) to ledger","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 14] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 14] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 15, match = 14, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 15, match = 14, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 14, vote: 0] cast MsgVote for 2 [logterm: 2, index: 14] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 15, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [10]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mpurges blockcutter, stops timer and discards created blocks if leadership is lost[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3050[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-215063283/node-1-290852790/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-215063283/node-1-290852790/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-215063283/node-2-414607773/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-215063283/node-2-414607773/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-215063283/node-3-290735704/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-215063283/node-3-290735704/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 292ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 281ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 328ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 5, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 3] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 3, index: 5] sent MsgVote request to 2 at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 3, index: 5] sent MsgVote request to 3 at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 2 at term 4","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 3] received a MsgVote message with higher term from 1 [term: 4]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 4","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 3, index: 5, vote: 0] cast MsgVote for 1 [logterm: 3, index: 5] at term 4","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 2 at term 4","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 2 -> 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 4","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 2 -> 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 4","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Batch timer expired, creating block","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 6, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 7) to ledger","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Writing block [1] (Raft index: 7) to ledger","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1mstale leader should not be able to propose block because of lagged term[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3108[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-630062551/node-1-385870154/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-630062551/node-1-385870154/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-630062551/node-2-856245281/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-630062551/node-2-856245281/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-630062551/node-3-577256716/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-630062551/node-3-577256716/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 299ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 245ns","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 283ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 5, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgAppResp message with higher term from 3 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 lost leader 1 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mChain[0m [90m3-node Raft cluster[0m [0mwhen 3/3 nodes are running[0m [90mfailover[0m 
  [1maborts waiting for block to be committed upon leadership lost[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/chain_test.go:3123[0m
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-424578811/node-1-910129694/snapshot","channel":"multi-node-channel","node":1}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-424578811/node-1-910129694/wal'","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-424578811/node-2-893262565/snapshot","channel":"multi-node-channel","node":2}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-424578811/node-2-893262565/wal'","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"No snapshot found at /tmp/raft-test-424578811/node-3-336577792/snapshot","channel":"multi-node-channel","node":3}
{"level":"info","msg":"No WAL data found, creating new WAL at path '/tmp/raft-test-424578811/node-3-336577792/wal'","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Loading WAL at Term 0 and Index 0","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Setting HardState to {Term: 0, Commit: 0}","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Appending 0 entries to memory storage","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 0","channel":"multi-node-channel","node":1}
{"level":"info","msg":"newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 1","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Suspecting our own eviction from the channel for 523ns","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 0","channel":"multi-node-channel","node":2}
{"level":"info","msg":"newRaft 2 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became follower at term 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Suspecting our own eviction from the channel for 219ns","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":2}
{"level":"info","msg":"This node is picked to start campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Starting Raft node","channel":"multi-node-channel","node":3}
{"level":"debug","msg":"Starting raft node: #peers: 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Starting raft node as part of a new channel","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"newRaft 3 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Suspecting our own eviction from the channel for 375ns","channel":"multi-node-channel","node":3}
{"level":"error","msg":"Failed pulling the last config block: ledger not available","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 1, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 2, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Applied config change to add node 3, current nodes in channel: [1 2 3]","channel":"multi-node-channel","node":3}
Send artificial MsgTimeoutNow to elect node 1
{"level":"info","msg":"1 [term 1] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became candidate at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 received MsgVoteResp from 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [logterm: 1, index: 3] sent MsgVote request to 2 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"3 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 [term: 1] received a MsgVote message with higher term from 1 [term: 2]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 became follower at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 1, index: 3, vote: 0] cast MsgVote for 1 [logterm: 1, index: 3] at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 received MsgVoteResp from 3 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became leader at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 elected leader 1 at term 2","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 3 elected leader 1 at term 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 2 elected leader 1 at term 2","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Leader 1 is present, quit campaign","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 1","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Created block [1], there are 0 blocks in flight","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Proposed block [1] to raft consensus","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 2 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 2, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"error","msg":"Failed to send StepRequest to 3, because: connection lost","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"1 failed to send message to 3 because it is unreachable [next = 5, match = 4, state = ProgressStateProbe, waiting = false, pendingSnapshot = 0]","channel":"multi-node-channel","node":1}
Send artificial MsgTimeoutNow to elect node 2
{"level":"info","msg":"2 [term 2] received MsgTimeoutNow from 0 and starts an election to get leadership.","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became candidate at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 received MsgVoteResp from 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [logterm: 2, index: 4] sent MsgVote request to 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 lost leader 1 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":2}
{"level":"error","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"info","msg":"3 [term: 2] received a MsgVote message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 became follower at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"3 [logterm: 2, index: 4, vote: 0] cast MsgVote for 2 [logterm: 2, index: 4] at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"raft.node: 3 lost leader 1 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 1 -> 0","channel":"multi-node-channel","node":3}
{"level":"info","msg":"2 received MsgVoteResp from 3 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 [quorum:2] has received 2 MsgVoteResp votes and 0 vote rejections","channel":"multi-node-channel","node":2}
{"level":"info","msg":"2 became leader at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 2 elected leader 2 at term 3","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"There are in flight blocks, new leader should not serve requests","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Failed to send StepRequest to 1, because: connection lost","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"2 failed to send message to 1 because it is unreachable [next = 5, match = 0, state = ProgressStateProbe, waiting = true, pendingSnapshot = 0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"raft.node: 3 elected leader 2 at term 3","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Raft leader changed: 0 -> 2","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Start accepting requests as Raft leader at block [0]","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Successfully sent StepRequest to 1 after failed attempt(s)","channel":"multi-node-channel","node":2}
{"level":"info","msg":"1 [term: 2] received a MsgHeartbeat message with higher term from 2 [term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"1 became follower at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"raft.node: 1 changed leader from 1 to 2 at term 3","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Successfully sent StepRequest to 2 after failed attempt(s)","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft leader changed: 1 -> 2","channel":"multi-node-channel","node":1}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":1}
{"level":"info","msg":"found conflict at index 5 [existing term: 2, conflicting term: 3]","channel":"multi-node-channel","node":1}
{"level":"info","msg":"replace the unstable entries from index 5","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":1}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":2}
{"level":"debug","msg":"Quit proposing blocks, discarded 0 blocks in the queue","channel":"multi-node-channel","node":2}
{"level":"info","msg":"Raft node stopped","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop garbage collecting","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Stop serving requests","channel":"multi-node-channel","node":3}
{"level":"info","msg":"Periodic check is stopping.","channel":"multi-node-channel","node":3}
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is extracting the channel[0m 
  [1mextracts successfully from step requests[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:97[0m
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is extracting the channel[0m 
  [1mextracts successfully from submit requests[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:102[0m
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is extracting the channel[0m 
  [1mreturns an empty string for the rest of the messages[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:107[0m
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is asked for a chain[0m 
  [1mcalls the chain getter and returns the reference when it is found[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:129[0m
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is asked for a chain[0m 
  [1mcalls the chain getter and returns nil when it's not found[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:137[0m
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is asked for a chain[0m 
  [1mcalls the chain getter and returns nil when it's not a raft chain[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:144[0m
[33m2020-05-08 23:05:59.818 IST [test] ReceiverByChain -> WARN 020[0m Chain notraftchain is of type *multichannel.ChainSupport and not etcdraft.Chain
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m [90mwhen the consenter is asked for a chain[0m 
  [1mcalls the chain getter and panics when the chain has a bad internal state[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:151[0m
[35m2020-05-08 23:05:59.827 IST [test] ReceiverByChain -> PANI 021[0m Programming error - Chain badChainObject is nil although it exists in the mapping
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m 
  [1msuccessfully constructs a Chain[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:161[0m
[34m2020-05-08 23:05:59.829 IST [test] HandleChain -> INFO 022[0m EvictionSuspicion not set, defaulting to 10m0s
[34m2020-05-08 23:05:59.829 IST [test] createOrReadWAL -> INFO 023[0m No WAL data found, creating new WAL at path '/tmp/snap-876283048/wal-' channel= node=1
[34m2020-05-08 23:05:59.850 IST [test] Start -> INFO 024[0m Starting Raft node channel= node=1
[34m2020-05-08 23:05:59.850 IST [test] start -> INFO 025[0m Starting raft node as part of a new channel channel= node=1
[34m2020-05-08 23:05:59.851 IST [test] becomeFollower -> INFO 026[0m 1 became follower at term 0 channel= node=1
[34m2020-05-08 23:05:59.851 IST [test] newRaft -> INFO 027[0m newRaft 1 [peers: [], term: 0, commit: 0, applied: 0, lastindex: 0, lastterm: 0] channel= node=1
[34m2020-05-08 23:05:59.851 IST [test] becomeFollower -> INFO 028[0m 1 became follower at term 1 channel= node=1
[34m2020-05-08 23:05:59.851 IST [test] run -> INFO 029[0m This node is picked to start campaign channel= node=1
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m 
  [1mfails to handle chain if no matching cert found[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:207[0m
[33m2020-05-08 23:05:59.853 IST [test] detectSelfID -> WARN 02a[0m Could not find -----BEGIN CERTIFICATE-----
Y2VydCBieXRlcw==
-----END CERTIFICATE-----
 among [-----BEGIN CERTIFICATE-----
Zm9v
-----END CERTIFICATE-----
]
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m 
  [1mfails to handle chain if etcdraft options have not been provided[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:240[0m
[34m2020-05-08 23:05:59.855 IST [test] apply -> INFO 02b[0m Applied config change to add node 1, current nodes in channel: [1] channel= node=1
[32m•[0m
[90m------------------------------[0m
[0mConsenter[0m 
  [1mfails to handle chain if tick interval is invalid[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/consenter_test.go:263[0m
[34m2020-05-08 23:05:59.859 IST [test] HandleChain -> INFO 02c[0m EvictionSuspicion not set, defaulting to 10m0s
[32m•[0m
[90m------------------------------[0m
[0mMetrics[0m [90mNewMetrics[0m 
  [1muses the provider to initialize a new Metrics object[0m
  [37m/home/deepak/go/src/github.com/hyperledger/fabric/orderer/consensus/etcdraft/metrics_test.go:36[0m
[32m•[0m
[1m[32mRan 104 of 104 Specs in 22.019 seconds[0m
[1m[32mSUCCESS![0m -- [32m[1m104 Passed[0m | [91m[1m0 Failed[0m | [33m[1m0 Pending[0m | [36m[1m0 Skipped[0m
[34m2020-05-08 23:06:00.851 IST [test] Step -> INFO 02d[0m 1 is starting a new election at term 1 channel= node=1
[34m2020-05-08 23:06:00.851 IST [test] becomePreCandidate -> INFO 02e[0m 1 became pre-candidate at term 1 channel= node=1
[34m2020-05-08 23:06:00.851 IST [test] poll -> INFO 02f[0m 1 received MsgPreVoteResp from 1 at term 1 channel= node=1
[34m2020-05-08 23:06:00.851 IST [test] becomeCandidate -> INFO 030[0m 1 became candidate at term 2 channel= node=1
[34m2020-05-08 23:06:00.851 IST [test] poll -> INFO 031[0m 1 received MsgVoteResp from 1 at term 2 channel= node=1
[34m2020-05-08 23:06:00.852 IST [test] becomeLeader -> INFO 032[0m 1 became leader at term 2 channel= node=1
[34m2020-05-08 23:06:00.852 IST [test] run -> INFO 033[0m raft.node: 1 elected leader 1 at term 2 channel= node=1
[34m2020-05-08 23:06:00.856 IST [test] run -> INFO 034[0m Leader 1 is present, quit campaign channel= node=1
[34m2020-05-08 23:06:00.856 IST [test] run -> INFO 035[0m Raft leader changed: 0 -> 1 channel= node=1
[34m2020-05-08 23:06:00.856 IST [test] run -> INFO 036[0m Start accepting requests as Raft leader at block [1] channel= node=1
[34m2020-05-08 23:06:03.032 IST [test] Stop -> INFO 037[0m Periodic check is stopping.
PASS
coverage: 86.5% of statements

Ginkgo ran 1 suite in 41.359461645s
Test Suite Passed
